"use strict";(self["webpackChunkquasar_project"]=self["webpackChunkquasar_project"]||[]).push([[662],{208:(t,e,s)=>{s.d(e,{Z:()=>i});var r=s(9981),a=s.n(r),n=s(4663);function o(t){const e=new FormData;let s="";return Object.keys(t).forEach((function(r){s=t[r],e.append(r,s)})),e}s(4006);const u="https://request-dbgkulzmmq-uw.a.run.app";function i(t,e,s,r,i,l=!0){var c=n.store.getters["auth/authGetter"],d=null,p={};t&&"data"in t&&("GET"===s?p=t.data:(console.log(t.data),d=o(t.data)));const m=`${u}${r}`;return new Promise(((t,r)=>{a()({method:s,url:m,headers:{...l&&{Authorization:`JWT ${c}`},"Content-Type":"multipart/form-data"},data:d,params:p,withCredentials:!0}).then((s=>{t(s),e&&i&&e.commit(i,s.data)})).catch((t=>{r(t)}))}))}},3550:(t,e,s)=>{s.d(e,{Z:()=>o});var r=s(208);function a(t,e){const s="/api/maintenance_portal/report_issue/request/",a=s,n="mutationEntityList";return(0,r.Z)(t,e,"POST",a,n,!0)}function n(t,e){const s="/api/maintenance_portal/issues/",a=s,n="";return(0,r.Z)(t,e,"GET",a,n,!0)}const o={postIssue:a,getIssues:n}},7662:(t,e,s)=>{s.r(e),s.d(e,{default:()=>Z});var r=s(9835),a=s(6970);const n=["placeholder"],o={class:"flex justify-between flex-center"},u={class:"text-h6"},i={class:"text-subtitle2"};function l(t,e,s,l,c,d){const p=(0,r.up)("q-card-section"),m=(0,r.up)("q-separator"),h=(0,r.up)("q-card"),f=(0,r.up)("q-btn"),w=(0,r.up)("q-page-sticky"),g=(0,r.up)("q-page"),b=(0,r.up)("q-pull-to-refresh");return(0,r.wg)(),(0,r.j4)(b,{onRefresh:d.refresh},{default:(0,r.w5)((()=>[(0,r.Wm)(g,{class:"text-body2"},{default:(0,r.w5)((()=>[d.token?((0,r.wg)(),(0,r.iD)("div",{key:0,class:"row flex flex-center q-mt-lg",placeholder:d.getIssueList()},[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(d.issues,((t,e)=>((0,r.wg)(),(0,r.j4)(h,{class:"my-card full-width q-mb-md",style:{"max-width":"90%"},key:e},{default:(0,r.w5)((()=>[(0,r.Wm)(p,null,{default:(0,r.w5)((()=>[(0,r._)("div",o,[(0,r._)("div",u,(0,a.zw)(t.item),1),(0,r.Uk)(" "+(0,a.zw)(t.date.substring(0,10)),1)]),(0,r._)("div",i,(0,a.zw)(t.submitted_by.name)+" "+(0,a.zw)(t.submitted_by.surname),1)])),_:2},1024),(0,r.Wm)(m,{class:"q-mb-md"}),(0,r.Wm)(p,{class:"q-pt-none",style:{"max-width":"70%"}},{default:(0,r.w5)((()=>[(0,r.Uk)((0,a.zw)(t.description),1)])),_:2},1024)])),_:2},1024)))),128))],8,n)):(0,r.kq)("",!0),(0,r.Wm)(w,{position:"bottom-right",offset:[30,60]},{default:(0,r.w5)((()=>[(0,r.Wm)(f,{onClick:d.reportIssue,icon:"error",rounded:"",color:"red",label:"Report Issue"},null,8,["onClick"])])),_:1})])),_:1})])),_:1},8,["onRefresh"])}var c=s(3550);const d={name:"IssueList",data:()=>({issuesLoaded:!1}),computed:{issues:function(){return this.$store.getters["issues/issueGetter"]},token:function(){return this.$store.getters["auth/authGetter"]}},methods:{reportIssue(){console.log("/report-problem/"),this.$router.push({path:"/report-problem/"})},refresh(t){const e=null;c.Z.getIssues(e).then((e=>{this.$store.commit("issues/issueMutation",e.data.children),t(),this.issuesLoaded=!0}))},getIssueList(){const t=null;c.Z.getIssues(t).then((t=>{this.$store.commit("issues/issueMutation",t.data.children)}))}}};var p=s(1639),m=s(1813),h=s(9885),f=s(4458),w=s(3190),g=s(926),b=s(627),k=s(8879),q=s(9984),_=s.n(q);const y=(0,p.Z)(d,[["render",l]]),Z=y;_()(d,"components",{QPullToRefresh:m.Z,QPage:h.Z,QCard:f.Z,QCardSection:w.Z,QSeparator:g.Z,QPageSticky:b.Z,QBtn:k.Z})}}]);